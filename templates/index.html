<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Student Track Recorder</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
</head>
<body>
    <!-- Landing Page -->
    <div id="landingPage" class="page active">
        <div class="container">
            <div class="logo-section">
                <h1>üéì Student Track Recorder</h1>
                <p>Complete activity tracking system for educational institutions</p>
            </div>

            <div class="access-cards">
                <div class="access-card faculty-card" onclick="showFacultyLogin()">
                    <div class="card-icon">üë®‚Äçüè´</div>
                    <h3>Faculty Access</h3>
                    <p>Manage courses, students, and activities</p>
                    <button class="access-btn faculty-btn">Faculty Login</button>
                </div>

                <div class="access-card student-card" onclick="showStudentLogin()">
                    <div class="card-icon">üë®‚Äçüéì</div>
                    <h3>Student Access</h3>
                    <p>View activities and track participation</p>
                    <button class="access-btn student-btn">Student Login</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Faculty Login Page -->
    <div id="facultyLoginPage" class="page">
        <div class="container">
            <div class="login-container">
                <button class="back-btn" onclick="showLandingPage()">‚Üê Back</button>
                <div class="login-header">
                    <h2>üë®‚Äçüè´ Faculty Login</h2>
                    <p>Enter your credentials to continue</p>
                </div>

                <form id="facultyLoginForm" class="login-form">
                    <div class="form-group">
                        <label for="facultyUserId">User ID</label>
                        <input type="text" id="facultyUserId" required>
                    </div>
                    <div class="form-group">
                        <label for="facultyPassword">Password</label>
                        <input type="password" id="facultyPassword" required>
                    </div>
                    <button type="submit" class="submit-btn">Login</button>
                    <div id="facultyLoginError" class="error-message"></div>
                </form>
            </div>
        </div>
    </div>

    <!-- Student Login Page -->
    <div id="studentLoginPage" class="page">
        <div class="container">
            <div class="login-container">
                <button class="back-btn" onclick="showLandingPage()">‚Üê Back</button>
                <div class="login-header">
                    <h2>üë®‚Äçüéì Student Login</h2>
                    <p>Enter your details to access your portfolio</p>
                </div>

                <form id="studentLoginForm" class="login-form">
                    <div class="form-group">
                        <label for="studentRoll">Roll Number</label>
                        <input type="text" id="studentRoll" required>
                    </div>
                    <div class="form-group">
                        <label for="studentEmail">Email ID</label>
                        <input type="email" id="studentEmail" required>
                    </div>
                    <div class="form-group">
                        <label for="studentPassword">Secret Password</label>
                        <input type="password" id="studentPassword" required>
                    </div>
                    <button type="submit" class="submit-btn">Login</button>
                    <div id="studentLoginError" class="error-message"></div>
                </form>
            </div>
        </div>
    </div>

    <!-- Faculty Dashboard -->
    <div id="facultyDashboard" class="page">
        <div class="header">
            <h1>Faculty Dashboard</h1>
            <button class="logout-btn" onclick="logout()">Logout</button>
        </div>

        <div class="container">
            <!-- Course Selection -->
            <div id="courseSelection" class="section active">
                <div class="section-header">
                    <h2>Select Course</h2>
                    <button class="add-btn" onclick="showAddCourseModal()">+ Add Course</button>
                </div>

                <div id="coursesList" class="cards-grid"></div>
            </div>

            <!-- Year Selection -->
            <div id="yearSelection" class="section">
                <div class="section-header">
                    <h2 id="yearSectionTitle">Select Year</h2>
                    <div class="section-actions">
                        <button class="back-btn" onclick="backToCourses()">‚Üê Back to Courses</button>
                        <button class="add-btn" onclick="showAddYearModal()">+ Add Year</button>
                    </div>
                </div>

                <div id="yearsList" class="cards-grid"></div>
            </div>

            <!-- Section Selection -->
            <div id="sectionSelection" class="section">
                <div class="section-header">
                    <h2 id="sectionSectionTitle">Select Section</h2>
                    <div class="section-actions">
                        <button class="back-btn" onclick="backToYears()">‚Üê Back to Years</button>
                        <button class="add-btn" onclick="showAddSectionModal()">+ Add Section</button>
                    </div>
                </div>

                <div id="sectionsList" class="cards-grid"></div>
            </div>

            <!-- Students & Activities Management -->
            <div id="studentsActivities" class="section">
                <div class="section-header">
                    <h2 id="studentsActivitiesTitle">Students & Activities</h2>
                    <button class="back-btn" onclick="backToSections()">‚Üê Back to Sections</button>
                </div>

                <div class="management-tabs">
                    <button class="tab-btn active" onclick="switchTab('students')">üë• Students</button>
                    <button class="tab-btn" onclick="switchTab('activities')">üìã Activities</button>
                </div>

                <!-- Students Tab -->
                <div id="studentsTab" class="tab-content active">
                    <div class="tab-header">
                        <h3>Students</h3>
                        <button class="add-btn" onclick="showAddStudentModal()">+ Add Student</button>
                    </div>
                    <div id="studentsList" class="items-list"></div>
                </div>

                <!-- Activities Tab -->
                <div id="activitiesTab" class="tab-content">
                    <div class="tab-header">
                        <h3>Activities</h3>
                        <button class="add-btn" onclick="showAddActivityModal()">+ Add Activity</button>
                    </div>
                    <div id="activitiesList" class="items-list"></div>
                </div>
            </div>
        </div>
    </div>

    <!-- Student Dashboard -->
    <div id="studentDashboard" class="page">
        <div class="header">
            <h1>Student Portfolio</h1>
            <button class="logout-btn" onclick="logout()">Logout</button>
        </div>

        <div class="container">
            <div id="studentProfile" class="student-profile"></div>
            <div id="studentActivities" class="student-activities"></div>
        </div>
    </div>

    <!-- Modals -->
    <!-- Add Course Modal -->
    <div id="addCourseModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>Add New Course</h3>
                <button class="close-btn" onclick="closeModal('addCourseModal')">&times;</button>
            </div>
            <form id="addCourseForm">
                <div class="form-group">
                    <label for="courseName">Course Name</label>
                    <input type="text" id="courseName" placeholder="e.g., B.Tech, M.Tech, PhD" required>
                </div>
                <div class="form-actions">
                    <button type="button" class="cancel-btn" onclick="closeModal('addCourseModal')">Cancel</button>
                    <button type="submit" class="submit-btn">Save Course</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Add Year Modal -->
    <div id="addYearModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>Add New Year</h3>
                <button class="close-btn" onclick="closeModal('addYearModal')">&times;</button>
            </div>
            <form id="addYearForm">
                <div class="form-group">
                    <label for="yearName">Year Name</label>
                    <input type="text" id="yearName" placeholder="e.g., 1st Year, 2nd Year" required>
                </div>
                <div class="form-actions">
                    <button type="button" class="cancel-btn" onclick="closeModal('addYearModal')">Cancel</button>
                    <button type="submit" class="submit-btn">Save Year</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Add Section Modal -->
    <div id="addSectionModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>Add New Section</h3>
                <button class="close-btn" onclick="closeModal('addSectionModal')">&times;</button>
            </div>
            <form id="addSectionForm">
                <div class="form-group">
                    <label for="sectionName">Section Name</label>
                    <input type="text" id="sectionName" placeholder="e.g., A Section, B Section, F Section" required>
                </div>
                <div class="form-actions">
                    <button type="button" class="cancel-btn" onclick="closeModal('addSectionModal')">Cancel</button>
                    <button type="submit" class="submit-btn">Save Section</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Add Student Modal -->
    <div id="addStudentModal" class="modal large-modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>Add New Student</h3>
                <button class="close-btn" onclick="closeModal('addStudentModal')">&times;</button>
            </div>
            <form id="addStudentForm">
                <div class="form-row">
                    <div class="form-group">
                        <label for="studentName">Student Name</label>
                        <input type="text" id="studentName" required>
                    </div>
                    <div class="form-group">
                        <label for="studentRollNo">Roll Number</label>
                        <input type="text" id="studentRollNo" required>
                    </div>
                </div>

                <div class="form-row">
                    <div class="form-group">
                        <label for="studentEmailId">Email ID</label>
                        <input type="email" id="studentEmailId" required>
                    </div>
                    <div class="form-group">
                        <label for="studentPhone">Phone Number</label>
                        <input type="tel" id="studentPhone" required>
                    </div>
                </div>

                <div class="form-row">
                    <div class="form-group">
                        <label for="fatherName">Father's Name</label>
                        <input type="text" id="fatherName" required>
                    </div>
                    <div class="form-group">
                        <label for="fatherPhone">Father's Phone</label>
                        <input type="tel" id="fatherPhone" required>
                    </div>
                </div>

                <div class="form-row">
                    <div class="form-group">
                        <label for="motherName">Mother's Name</label>
                        <input type="text" id="motherName" required>
                    </div>
                    <div class="form-group">
                        <label for="motherPhone">Mother's Phone</label>
                        <input type="tel" id="motherPhone" required>
                    </div>
                </div>

                <div class="form-group">
                    <label for="studentSecretPassword">Secret Password</label>
                    <input type="password" id="studentSecretPassword" required>
                </div>

                <div class="form-group">
                    <label for="studentPhoto">Student Photo</label>
                    <input type="file" id="studentPhoto" accept="image/*">
                </div>

                <div class="form-actions">
                    <button type="button" class="cancel-btn" onclick="closeModal('addStudentModal')">Cancel</button>
                    <button type="submit" class="submit-btn">Save Student</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Add Activity Modal -->
    <div id="addActivityModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>Add New Activity</h3>
                <button class="close-btn" onclick="closeModal('addActivityModal')">&times;</button>
            </div>
            <form id="addActivityForm">
                <div class="form-group">
                    <label for="activityName">Activity Name</label>
                    <input type="text" id="activityName" required>
                </div>
                <div class="form-group">
                    <label for="activityDetails">Activity Details</label>
                    <textarea id="activityDetails" rows="4" required></textarea>
                </div>
                <div class="form-actions">
                    <button type="button" class="cancel-btn" onclick="closeModal('addActivityModal')">Cancel</button>
                    <button type="submit" class="submit-btn">Save Activity</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Student Activity Assignment Modal -->
<div id="assignActivityModal" class="modal">
    <div class="modal-content">
        <div class="modal-header">
            <h3>Assign Activities & Remarks</h3>
            <button class="close-btn" onclick="closeModal('assignActivityModal')">&times;</button>
        </div>
        <form id="assignActivityForm">
            <div class="form-group">
                <label>Select Activities</label>
                <div id="activitiesCheckboxes" class="checkbox-group"></div>
            </div>
            <div class="form-group">
                <label for="studentRemarks">Remarks/Status</label>
                <textarea id="studentRemarks" rows="3" placeholder="Enter any remarks or status information..." required></textarea>
            </div>
            <div class="form-actions">
                <button type="button" class="cancel-btn" onclick="closeModal('assignActivityModal')">Cancel</button>
                <button type="submit" class="submit-btn">Save Assignment</button>
            </div>
        </form>
    </div>
</div>

    <!-- Edit Student Modal -->
    <div id="editStudentModal" class="modal large-modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>Edit Student</h3>
                <button class="close-btn" onclick="closeModal('editStudentModal')">&times;</button>
            </div>
            <form id="editStudentForm">
                <div class="form-row">
                    <div class="form-group">
                        <label for="editStudentName">Student Name</label>
                        <input type="text" id="editStudentName" required>
                    </div>
                    <div class="form-group">
                        <label for="editStudentRollNo">Roll Number</label>
                        <input type="text" id="editStudentRollNo" required>
                    </div>
                </div>

                <div class="form-row">
                    <div class="form-group">
                        <label for="editStudentEmailId">Email ID</label>
                        <input type="email" id="editStudentEmailId" required>
                    </div>
                    <div class="form-group">
                        <label for="editStudentPhone">Phone Number</label>
                        <input type="tel" id="editStudentPhone" required>
                    </div>
                </div>

                <div class="form-row">
                    <div class="form-group">
                        <label for="editFatherName">Father's Name</label>
                        <input type="text" id="editFatherName" required>
                    </div>
                    <div class="form-group">
                        <label for="editFatherPhone">Father's Phone</label>
                        <input type="tel" id="editFatherPhone" required>
                    </div>
                </div>

                <div class="form-row">
                    <div class="form-group">
                        <label for="editMotherName">Mother's Name</label>
                        <input type="text" id="editMotherName" required>
                    </div>
                    <div class="form-group">
                        <label for="editMotherPhone">Mother's Phone</label>
                        <input type="tel" id="editMotherPhone" required>
                    </div>
                </div>

                <div class="form-group">
                    <label for="editStudentSecretPassword">Secret Password</label>
                    <input type="password" id="editStudentSecretPassword" required>
                </div>

                <div class="form-group">
                    <label for="editStudentPhoto">Student Photo</label>
                    <input type="file" id="editStudentPhoto" accept="image/*">
                </div>

                <div class="form-actions">
                    <button type="button" class="cancel-btn" onclick="closeModal('editStudentModal')">Cancel</button>
                    <button type="submit" class="submit-btn">Update Student</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Edit Activity Modal -->
    <div id="editActivityModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>Edit Activity</h3>
                <button class="close-btn" onclick="closeModal('editActivityModal')">&times;</button>
            </div>
            <form id="editActivityForm">
                <div class="form-group">
                    <label for="editActivityName">Activity Name</label>
                    <input type="text" id="editActivityName" required>
                </div>
                <div class="form-group">
                    <label for="editActivityDetails">Activity Details</label>
                    <textarea id="editActivityDetails" rows="4" required></textarea>
                </div>
                <div class="form-actions">
                    <button type="button" class="cancel-btn" onclick="closeModal('editActivityModal')">Cancel</button>
                    <button type="submit" class="submit-btn">Update Activity</button>
                </div>
            </form>
        </div>
    </div>

    <script src="{{ url_for('static', filename='script.js') }}"></script>
</body>
</html>